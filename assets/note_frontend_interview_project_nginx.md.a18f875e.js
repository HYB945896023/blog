import{_ as n,o as s,c as a,d as e}from"./app.92214221.js";const m=JSON.parse('{"title":"1. nginx初始化配置","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. 更新软件包列表","slug":"_1-更新软件包列表","link":"#_1-更新软件包列表","children":[]},{"level":2,"title":"2. 安装Nginx","slug":"_2-安装nginx","link":"#_2-安装nginx","children":[]},{"level":2,"title":"3. 启动Nginx","slug":"_3-启动nginx","link":"#_3-启动nginx","children":[]},{"level":2,"title":"4. 确认Nginx是否已启动","slug":"_4-确认nginx是否已启动","link":"#_4-确认nginx是否已启动","children":[]},{"level":2,"title":"1. 配置Nginx服务器块","slug":"_1-配置nginx服务器块","link":"#_1-配置nginx服务器块","children":[]},{"level":2,"title":"8. 启用新的Nginx服务器块","slug":"_8-启用新的nginx服务器块","link":"#_8-启用新的nginx服务器块","children":[]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]}],"relativePath":"note/frontend/interview/project/nginx.md","lastUpdated":1699523741000}'),l={name:"note/frontend/interview/project/nginx.md"},i=e(`<h1 id="_1-nginx初始化配置" tabindex="-1">1. nginx初始化配置 <a class="header-anchor" href="#_1-nginx初始化配置" aria-hidden="true">#</a></h1><p>下面是Ubuntu安装和配置Nginx的详细步骤：</p><h2 id="_1-更新软件包列表" tabindex="-1">1. 更新软件包列表 <a class="header-anchor" href="#_1-更新软件包列表" aria-hidden="true">#</a></h2><p>在终端中输入以下命令：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2-安装nginx" tabindex="-1">2. 安装Nginx <a class="header-anchor" href="#_2-安装nginx" aria-hidden="true">#</a></h2><p>在终端中输入以下命令：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将自动安装Nginx及其所有依赖项。</p><h2 id="_3-启动nginx" tabindex="-1">3. 启动Nginx <a class="header-anchor" href="#_3-启动nginx" aria-hidden="true">#</a></h2><p>在终端中输入以下命令：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl start nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这将启动Nginx服务器。</p><h2 id="_4-确认nginx是否已启动" tabindex="-1">4. 确认Nginx是否已启动 <a class="header-anchor" href="#_4-确认nginx是否已启动" aria-hidden="true">#</a></h2><p>在终端中输入以下命令：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl status nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果Nginx正在运行，您将看到类似于以下内容的输出：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">● nginx.service - A high performance web server and a reverse proxy server</span></span>
<span class="line"><span style="color:#A6ACCD;">     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)</span></span>
<span class="line"><span style="color:#A6ACCD;">     Active: active (running) since Tue 2021-09-21 10:13:16</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="_2-配置nginx" tabindex="-1">2. 配置nginx <a class="header-anchor" href="#_2-配置nginx" aria-hidden="true">#</a></h1><p>nginx的配置核心文件就是:<code>/etc/nginx/nginx.conf</code> 配置流程概览：</p><ol><li>新建一个子配置文件，该文件路径要在<code>nginx.conf</code>的include中</li><li>编写子配置文件，然后指向需要代理的文件</li><li>在2中指向的路径放置打包好的项目</li></ol><h2 id="_1-配置nginx服务器块" tabindex="-1">1. 配置Nginx服务器块 <a class="header-anchor" href="#_1-配置nginx服务器块" aria-hidden="true">#</a></h2><p>在终端中输入以下命令，创建一个新的Nginx服务器块：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo nano /etc/nginx/sites-available/example.com</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将&quot;<a href="http://example.com" target="_blank" rel="noreferrer">example.com</a>&quot;替换为您的域名。然后，输入以下配置信息：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">server {</span></span>
<span class="line"><span style="color:#A6ACCD;">    listen 80;</span></span>
<span class="line"><span style="color:#A6ACCD;">    listen [::]:80;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    root /var/www/example.com;</span></span>
<span class="line"><span style="color:#A6ACCD;">    index index.html index.htm index.nginx-debian.html;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    server_name example.com www.example.com;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">        try_files $uri $uri/ =404;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在配置中，将“<a href="http://example.com" target="_blank" rel="noreferrer">example.com</a>”替换为您的域名，并将“/var/www/example.com”替换为您要托管网站文件的路径。</p><p>保存并关闭文件。</p><h2 id="_8-启用新的nginx服务器块" tabindex="-1">8. 启用新的Nginx服务器块 <a class="header-anchor" href="#_8-启用新的nginx服务器块" aria-hidden="true">#</a></h2><p>在终端中输入以下命令，启用新的Nginx服务器块： 这里是建立一个软连接，在nginx.conf中配置的是sites-enabled,这里通过<strong>ln</strong>命令来创建一个映射在<code>sites-enabled</code>中可以通过快捷方式打开<code>sites-available</code>下的文件</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-hidden="true">#</a></h2><p>启动nginx:<code>nginx</code> 停止nginx:<code>sudo systemctl stop nginx</code> 如果使用<code>sudo systemctl stop nginx</code>命令无法停止nginx服务，您可以尝试使用以下步骤：</p><ol><li><p>使用以下命令查找nginx进程的PID：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">ps aux | grep nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输出结果类似于：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">root     12345  0.0  0.1  12345  6789 ?        Ss   Apr19   0:00 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;</span></span>
<span class="line"><span style="color:#A6ACCD;">www-data 23456  0.0  0.1  12345  7890 ?        S    Apr19   0:00 nginx: worker process</span></span>
<span class="line"><span style="color:#A6ACCD;">www-data 23457  0.0  0.1  12345  7890 ?        S    Apr19   0:00 nginx: worker process</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其中，<code>12345</code>是nginx主进程的PID。</p></li><li><p>使用以下命令停止nginx进程：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo kill -s QUIT 12345</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果上述命令无法停止nginx进程，请尝试使用<code>sudo kill -9 12345</code>命令强制终止该进程。</p></li><li><p>最后，使用以下命令检查nginx进程是否已经停止：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">ps aux | grep nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果nginx进程已经停止，输出将不会显示nginx的任何进程信息。</p></li></ol><p>请注意，手动杀死nginx进程可能会导致数据丢失或其他问题。在必要时，请备份您的nginx配置文件和数据文件，以便在需要时进行恢复。</p>`,35),p=[i];function r(t,c,o,d,g,u){return s(),a("div",null,p)}const h=n(l,[["render",r]]);export{m as __pageData,h as default};
