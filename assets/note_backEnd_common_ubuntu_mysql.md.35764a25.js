import{_ as s,o as a,c as e,d as n}from"./app.92214221.js";const h=JSON.parse('{"title":"安装mysql","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. 更新 Ubuntu 软件包列表：","slug":"_1-更新-ubuntu-软件包列表","link":"#_1-更新-ubuntu-软件包列表","children":[]},{"level":2,"title":"2. 安装 MySQL 服务器：","slug":"_2-安装-mysql-服务器","link":"#_2-安装-mysql-服务器","children":[]},{"level":2,"title":"3. 安装过程中会提示输入 root 用户的 MySQL 密码。在输入时，会看不到实际输入的字符，这是正常现象。完成输入后，回车确认并再次确认密码。MySQL 服务器安装完成后，启动 MySQL 服务：","slug":"_3-安装过程中会提示输入-root-用户的-mysql-密码。在输入时-会看不到实际输入的字符-这是正常现象。完成输入后-回车确认并再次确认密码。mysql-服务器安装完成后-启动-mysql-服务","link":"#_3-安装过程中会提示输入-root-用户的-mysql-密码。在输入时-会看不到实际输入的字符-这是正常现象。完成输入后-回车确认并再次确认密码。mysql-服务器安装完成后-启动-mysql-服务","children":[]},{"level":2,"title":"4. 验证 MySQL 服务器是否已成功启动：","slug":"_4-验证-mysql-服务器是否已成功启动","link":"#_4-验证-mysql-服务器是否已成功启动","children":[]},{"level":2,"title":"5. 修改 MySQL root 用户密码（非必须步骤）：","slug":"_5-修改-mysql-root-用户密码-非必须步骤","link":"#_5-修改-mysql-root-用户密码-非必须步骤","children":[{"level":3,"title":"1. 以 root 用户身份登录到 MySQL：","slug":"_1-以-root-用户身份登录到-mysql","link":"#_1-以-root-用户身份登录到-mysql","children":[]},{"level":3,"title":"2. 更改 root 用户的密码和身份验证插件：","slug":"_2-更改-root-用户的密码和身份验证插件","link":"#_2-更改-root-用户的密码和身份验证插件","children":[]},{"level":3,"title":"3. 刷新权限并退出 MySQL：","slug":"_3-刷新权限并退出-mysql","link":"#_3-刷新权限并退出-mysql","children":[]}]}],"relativePath":"note/backEnd/common/ubuntu/mysql.md","lastUpdated":1699523741000}'),l={name:"note/backEnd/common/ubuntu/mysql.md"},t=n(`<h1 id="安装mysql" tabindex="-1">安装mysql <a class="header-anchor" href="#安装mysql" aria-hidden="true">#</a></h1><p>在 Ubuntu 平台上安装 MySQL，可以按照以下步骤进行操作：</p><h2 id="_1-更新-ubuntu-软件包列表" tabindex="-1">1. 更新 Ubuntu 软件包列表： <a class="header-anchor" href="#_1-更新-ubuntu-软件包列表" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2-安装-mysql-服务器" tabindex="-1">2. 安装 MySQL 服务器： <a class="header-anchor" href="#_2-安装-mysql-服务器" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install mysql-server</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_3-安装过程中会提示输入-root-用户的-mysql-密码。在输入时-会看不到实际输入的字符-这是正常现象。完成输入后-回车确认并再次确认密码。mysql-服务器安装完成后-启动-mysql-服务" tabindex="-1">3. 安装过程中会提示输入 root 用户的 MySQL 密码。在输入时，会看不到实际输入的字符，这是正常现象。完成输入后，回车确认并再次确认密码。MySQL 服务器安装完成后，启动 MySQL 服务： <a class="header-anchor" href="#_3-安装过程中会提示输入-root-用户的-mysql-密码。在输入时-会看不到实际输入的字符-这是正常现象。完成输入后-回车确认并再次确认密码。mysql-服务器安装完成后-启动-mysql-服务" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl start mysql</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_4-验证-mysql-服务器是否已成功启动" tabindex="-1">4. 验证 MySQL 服务器是否已成功启动： <a class="header-anchor" href="#_4-验证-mysql-服务器是否已成功启动" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl status mysql</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输出应该会显示 &quot;Active (running)&quot;，表明 MySQL 已经成功启动。</p><h2 id="_5-修改-mysql-root-用户密码-非必须步骤" tabindex="-1">5. 修改 MySQL root 用户密码（非必须步骤）： <a class="header-anchor" href="#_5-修改-mysql-root-用户密码-非必须步骤" aria-hidden="true">#</a></h2><p>使用以下命令修改 root 用户的 MySQL 密码：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo mysql_secure_installation</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意！以上命令会报错：<code>SET PASSWORD has no significance for user &#39;root&#39;@&#39;localhost&#39; as the authentication method used doesn&#39;t store authentication data in the MySQL server. Please consider using ALTER USER instead if you want to change authentication parameters.</code><br> 这个错误是因为在 MySQL 8.0 之后，MySQL 的默认身份验证插件已经被更改为 caching_sha2_password，而不是以前的 mysql_native_password。这导致在 Ubuntu 上使用 sudo mysql_secure_installation 命令时会出现上述错误。</p><p>要解决这个问题，你需要使用 ALTER USER 命令来更改 root 用户的密码和身份验证插件，而不是使用 SET PASSWORD 命令。请按照以下步骤操作：</p><h3 id="_1-以-root-用户身份登录到-mysql" tabindex="-1">1. 以 root 用户身份登录到 MySQL： <a class="header-anchor" href="#_1-以-root-用户身份登录到-mysql" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">sudo mysql -u root</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-更改-root-用户的密码和身份验证插件" tabindex="-1">2. 更改 root 用户的密码和身份验证插件： <a class="header-anchor" href="#_2-更改-root-用户的密码和身份验证插件" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;your_new_password&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>替换 &#39;your_new_password&#39; 为你要设置的新密码。\\</p><ol><li>更换密码报错：<code>Your password does not satisfy the current policy requirements</code><br> 这是因为ubuntu中mysql默认要求密码必须包含大小写字母、数字和特殊字符，并且长度不能少于8位.\\</li><li>以下是关于mysql密码的一些参数:<br> +--------------------------------------+--------+<br> | Variable_name ms | Value |<br> +--------------------------------------+--------+<br> | validate_password.check_user_name | ON |<br> | validate_password.dictionary_file | |<br> | validate_password.length | 8 |<br> | validate_password.mixed_case_count | 0 |<br> | validate_password.number_count | 1 |<br> | validate_password.policy | MEDIUM |<br> | validate_password.special_char_count | 0 |<br> +--------------------------------------+--------+<br> 可使用以下命令来更改密码的要求：</li></ol><ul><li>展示当前密码的要求，也就是出现上面的页面：<code>SHOW VARIABLES LIKE &#39;validate_password%&#39;;</code></li><li>更改当前密码强度：<code>SET GLOBAL validate_password.policy=LOW;</code></li><li>根据以上规则去更改：<code>SET GLOBAL validate_password.mixed_case_count = 0;</code></li><li>密码长度：<code>SET GLOBAL validate_password.length=4;</code></li></ul><h3 id="_3-刷新权限并退出-mysql" tabindex="-1">3. 刷新权限并退出 MySQL： <a class="header-anchor" href="#_3-刷新权限并退出-mysql" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">FLUSH PRIVILEGES;</span></span>
<span class="line"><span style="color:#A6ACCD;">exit;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>现在你应该能够使用新密码登录到 MySQL 了。 安装完成后，您现在就可以在 Ubuntu 上通过如下命令来连接 MySQL：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">mysql -u root -p</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>输入 MySQL 的 root 用户密码，即可登录成功。</p>`,28),i=[t];function r(o,p,d,c,u,m){return a(),e("div",null,i)}const b=s(l,[["render",r]]);export{h as __pageData,b as default};
